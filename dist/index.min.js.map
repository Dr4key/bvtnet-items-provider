{"version":3,"file":"index.min.js","sources":["webpack://bvtnet-items-provider/index.min.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"bvtnet-items-provider\",[],t):\"object\"==typeof exports?exports[\"bvtnet-items-provider\"]=t():e[\"bvtnet-items-provider\"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/\",r(r.s=0)}({0:function(e,t,r){e.exports=r(\"tjUo\")},tjUo:function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t);var i=function(){function e(t,r){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.init(t,r)}var t,r,i;return t=e,(r=[{key:\"init\",value:function(e,t){var r=t.constructor===Array||Array.isArray(t),n=[\"onFieldTranslate\",\"key\",\"label\",\"headerTitle\",\"headerAbbr\",\"class\",\"formatter\",\"sortable\",\"sortDirection\",\"sortByFormatted\",\"filterByFormatted\",\"tdClass\",\"thClass\",\"thStyle\",\"variant\",\"tdAttr\",\"thAttr\",\"isRowHeader\",\"stickyColumn\"];if(this._name=\"ItemsProvider\",this.axios=e,this.fields=t,this.perPage=15,this.currentPage=1,this.totalRows=0,this.sortBy=\"\",this.sortDesc=!1,this.filter=null,this.filterIgnoredFields=[],this.filterIncludedFields=[],this.axiosConfig={},this.columns=[],this.isBusy=!1,this.startRow=0,this.endRow=0,!r)for(var o in this.fields=[],t){var i=t[o],a={};i.key=i.name||i.key||o,i.isLocal&&(i.searchable=!1,i.sortable=!1,delete i.filterByFormatted);for(var s=0;s<n.length;s++)i.hasOwnProperty(n[s])&&(a[n[s]]=i[n[s]]);this.fields.push(a)}}},{key:\"decode\",value:function(e){try{return decodeURIComponent(e.replace(/\\+/g,\" \"))}catch(t){return e}}},{key:\"encode\",value:function(e){try{return encodeURIComponent(e)}catch(t){return e}}},{key:\"queryParseString\",value:function(e){e=(e||\"\").replace(\"?\",\"\").replace(\"#\",\"\");for(var t=/(\\w+)\\[(\\d+)\\]/,r=this.decode,n={},o=e.split(\"&\"),i=0;i<o.length;i++){var a=o[i].split(\"=\"),s=r(a[0]),l=t.exec(s);l?(n[l[1]]=n[l[1]]||[],n[l[1]][l[2]]=r(a[1])):n[a[0]]=r(a[1]||\"\")}return n}},{key:\"queryStringify\",value:function(e,t){var r,o=this.encode,i=[];for(r in e)if(e.hasOwnProperty(r)){var a=t?t+\"[\"+r+\"]\":r,s=e[r];i.push(null!==s&&\"object\"===n(s)?this.queryStringify(s,a):o(a)+\"=\"+o(s))}return i.join(\"&\")}},{key:\"getServerParams\",value:function(){return this._query}},{key:\"translateContext\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,n=r.fields,o={draw:1,start:(r.currentPage-1)*r.perPage,length:r.perPage,search:{value:\"\".concat(e.filter||\"\"),regex:e.filter instanceof RegExp},order:[{column:0,dir:e.sortDesc?\"desc\":\"asc\"}],columns:[]};for(var i in t)o[i]=t[i];r.sortBy&&(o.order.column=(r.serverFields[r.sortBy]||{__index:0}).__index);for(var a=0;a<n.length;a++){var s=n[a];s.key||(s={key:s});var l={data:s.key,name:s.key,searchable:!0,orderable:s.sortable||!0};r.filterIgnoredFields&&r.filterIgnoredFields.indexOf(s.key)>-1&&(l.searchable=!1),r.filterIncludedFields&&r.filterIncludedFields.indexOf(s.key)>-1&&(l.searchable=!0),\"function\"==typeof r.onFieldTranslate&&r.onFieldTranslate(s,l),o.columns.push(l)}return o}},{key:\"items\",value:function(e){var t=this,r=(e.apiUrl||t.apiUrl).split(\"?\"),n={},o=null;if(r.length>1&&(n=t.queryParseString(r[1])),n=t.translateContext(e,n),\"function\"==typeof t.onBeforeQuery&&t.onBeforeQuery(n,e),t.startRow=t.endRow=0,t.isBusy=!0,t.ajaxResponse=null,t.ajaxError=null,t.sortDirection=e.sortDesc?\"desc\":\"asc\",t._apiUrl=r[0],t._query=n,\"POST\"===t.method)o=t.axios.post(t._apiUrl,n,t.axiosConfig);else{var i=t._apiUrl+\"?\"+t.queryStringify(n);o=t.axios.get(i,t.axiosConfig)}return o.then((function(e){t.ajaxResponse=e;var r=e.data;return t.totalRows=r.recordsFiltered||r.recordsTotal,t.startRow=n.start+1,t.endRow=n.start+n.length,(t.endRow>t.totalRows||t.endRow<0)&&(t.endRow=t.totalRows),t.isBusy=!1,r.data||[]})).catch((function(e){return t.ajaxError=e,t.isBusy=!1,[]}))}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=i}}).default}));"],"mappings":"AAAA","sourceRoot":""}